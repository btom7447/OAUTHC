import React from 'react';
import { Splide, SplideSlide } from '@splidejs/react-splide';
import '@splidejs/splide/dist/css/themes/splide-default.min.css';
import { useDoctors } from './DoctorProvider';

const DoctorsCarousel = () => {
  const doctors = useDoctors();

  if (!doctors || doctors.length === 0) {
    return <div>Loading...</div>;
  }

  return (
    <div className="doctors-carousel">
      <Splide
        options={{
          type: 'loop',
          autoplay: true,
          interval: 4000,
          pauseOnHover: true,
          arrows: false,
          pagination: true,
          gap: '20px',
          perPage: 3,
          breakpoints: {
            1024: { perPage: 3 },
            768: { perPage: 2 },
            576: { perPage: 1 },
          },
        }}
      >
        {doctors.map((doctor) => (
            <SplideSlide key={doctor.id}>
                <div className="professionals-box">
                    <div className="professionals-image">
                        <img src={doctor.doctorImage} alt={doctor.doctorName} />
                    </div>
                    <div className="professionals-caption">
                        <h6>{doctor.doctorName}</h6>
                        <h5>{Array.isArray(doctor.specialty) ? doctor.specialty.join(', ') : ''}</h5>
                        <div className="professionals-links">
                            {/* LINKEDIN */}
                            <a href={doctor.linkedIn} target='_blank' rel="noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                    <path d="M12 0.477051C5.3725 0.477051 0 5.84955 0 12.4771C0 19.1046 5.3725 24.4771 12 24.4771C18.6275 24.4771 24 19.1046 24 12.4771C24 5.84955 18.6275 0.477051 12 0.477051ZM9.0625 17.4508H6.6325V9.6308H9.0625V17.4508ZM7.8325 8.6708C7.065 8.6708 6.56875 8.12705 6.56875 7.45455C6.56875 6.7683 7.08 6.2408 7.86375 6.2408C8.6475 6.2408 9.1275 6.7683 9.1425 7.45455C9.1425 8.12705 8.6475 8.6708 7.8325 8.6708ZM17.9375 17.4508H15.5075V13.1171C15.5075 12.1083 15.155 11.4233 14.2763 11.4233C13.605 11.4233 13.2063 11.8871 13.03 12.3333C12.965 12.4921 12.9488 12.7171 12.9488 12.9408V17.4496H10.5175V12.1246C10.5175 11.1483 10.4862 10.3321 10.4537 9.62955H12.565L12.6763 10.7158H12.725C13.045 10.2058 13.8288 9.4533 15.14 9.4533C16.7388 9.4533 17.9375 10.5246 17.9375 12.8271V17.4508Z" fill="white"/>
                                </svg>
                            </a>
                            {/* FACEBOOK */}
                            <a href={doctor.facebook} target='_blank' rel="noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                    <path d="M12 0.477051C5.3725 0.477051 0 5.84955 0 12.4771C0 19.1046 5.3725 24.4771 12 24.4771C18.6275 24.4771 24 19.1046 24 12.4771C24 5.84955 18.6275 0.477051 12 0.477051ZM14.8425 8.76955H13.0388C12.825 8.76955 12.5875 9.0508 12.5875 9.42455V10.7271H14.8438L14.5025 12.5846H12.5875V18.1608H10.4588V12.5846H8.5275V10.7271H10.4588V9.63455C10.4588 8.06705 11.5463 6.7933 13.0388 6.7933H14.8425V8.76955Z" fill="white"/>
                                </svg>
                            </a>
                            {/* INSTAGRAM */}
                            <a href={doctor.instagram} target='_blank' rel="noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                    <path d="M16.8725 8.7908C16.7684 8.52111 16.6089 8.27622 16.4044 8.07191C16.1999 7.8676 15.9548 7.70839 15.685 7.60455C15.3135 7.46696 14.9211 7.39423 14.525 7.38955C13.8663 7.35955 13.6688 7.35205 12 7.35205C10.3313 7.35205 10.1338 7.35955 9.475 7.38955C9.07845 7.39409 8.68564 7.46682 8.31375 7.60455C8.04407 7.70868 7.79918 7.86814 7.59487 8.07267C7.39055 8.2772 7.23135 8.52225 7.1275 8.79205C6.98991 9.16354 6.91719 9.55592 6.9125 9.95205C6.8825 10.6108 6.875 10.8083 6.875 12.477C6.875 14.1458 6.8825 14.3433 6.9125 15.002C6.91704 15.3986 6.98977 15.7914 7.1275 16.1633C7.23163 16.433 7.3911 16.6779 7.59562 16.8822C7.80015 17.0865 8.04521 17.2457 8.315 17.3495C8.6865 17.4871 9.07887 17.5599 9.475 17.5645C10.1338 17.5945 10.3313 17.6008 12 17.6008C13.6688 17.6008 13.8663 17.5945 14.525 17.5633C14.9215 17.5592 15.3143 17.4869 15.6863 17.3495C15.9559 17.2454 16.2008 17.086 16.4051 16.8814C16.6095 16.6769 16.7687 16.4318 16.8725 16.162C17.0101 15.7906 17.0828 15.3982 17.0875 15.002C17.1175 14.3433 17.1238 14.1458 17.1238 12.477C17.1238 10.8083 17.1175 10.6108 17.0863 9.95205C17.0821 9.55557 17.0098 9.16276 16.8725 8.7908ZM12 15.687C11.3651 15.687 10.7445 15.4988 10.2166 15.1461C9.68874 14.7933 9.27731 14.292 9.03435 13.7055C8.79139 13.1189 8.72782 12.4735 8.85168 11.8508C8.97554 11.2281 9.28126 10.6562 9.73019 10.2072C10.1791 9.75831 10.7511 9.45259 11.3738 9.32873C11.9964 9.20487 12.6419 9.26844 13.2284 9.5114C13.815 9.75435 14.3163 10.1658 14.669 10.6937C15.0217 11.2216 15.21 11.8422 15.21 12.477C15.21 13.3284 14.8718 14.1449 14.2698 14.7469C13.6678 15.3489 12.8513 15.687 12 15.687ZM15.3363 9.8908C15.1879 9.8908 15.0429 9.84681 14.9196 9.7644C14.7962 9.68199 14.7001 9.56486 14.6433 9.42781C14.5866 9.29077 14.5717 9.13997 14.6007 8.99448C14.6296 8.849 14.701 8.71536 14.8059 8.61047C14.9108 8.50558 15.0444 8.43415 15.1899 8.40521C15.3354 8.37627 15.4862 8.39112 15.6233 8.44789C15.7603 8.50465 15.8774 8.60078 15.9599 8.72412C16.0423 8.84746 16.0863 8.99246 16.0863 9.1408C16.0863 9.33971 16.0072 9.53048 15.8666 9.67113C15.7259 9.81178 15.5352 9.8908 15.3363 9.8908ZM14.0838 12.477C14.0838 12.8892 13.9615 13.292 13.7326 13.6347C13.5036 13.9774 13.1782 14.2445 12.7974 14.4022C12.4167 14.5599 11.9977 14.6012 11.5935 14.5208C11.1893 14.4404 10.818 14.2419 10.5266 13.9505C10.2352 13.6591 10.0367 13.2878 9.95629 12.8836C9.87589 12.4794 9.91716 12.0604 10.0749 11.6796C10.2326 11.2989 10.4997 10.9734 10.8423 10.7445C11.185 10.5155 11.5879 10.3933 12 10.3933C12.5526 10.3933 13.0827 10.6128 13.4734 11.0036C13.8642 11.3944 14.0838 11.9244 14.0838 12.477ZM12 0.477051C9.62663 0.477051 7.30655 1.18084 5.33316 2.49941C3.35977 3.81799 1.8217 5.69214 0.913451 7.88485C0.00519939 10.0776 -0.232441 12.4904 0.230582 14.8181C0.693605 17.1459 1.83649 19.2841 3.51472 20.9623C5.19295 22.6406 7.33115 23.7834 9.65892 24.2465C11.9867 24.7095 14.3995 24.4719 16.5922 23.5636C18.7849 22.6553 20.6591 21.1173 21.9776 19.1439C23.2962 17.1705 24 14.8504 24 12.477C24 9.29445 22.7357 6.24221 20.4853 3.99177C18.2348 1.74133 15.1826 0.477051 12 0.477051V0.477051ZM18.2125 15.0533C18.2019 15.572 18.1034 16.0851 17.9213 16.5708C17.7607 16.9859 17.5152 17.3629 17.2005 17.6776C16.8858 17.9923 16.5089 18.2378 16.0938 18.3983C15.6084 18.5803 15.0957 18.6788 14.5775 18.6895C13.91 18.7195 13.6975 18.727 12 18.727C10.3025 18.727 10.09 18.7195 9.4225 18.6895C8.90426 18.6788 8.39159 18.5803 7.90625 18.3983C7.49116 18.2378 7.11417 17.9923 6.79947 17.6776C6.48477 17.3629 6.23928 16.9859 6.07875 16.5708C5.89671 16.0855 5.79823 15.5728 5.7875 15.0545C5.7575 14.387 5.75 14.1745 5.75 12.477C5.75 10.7795 5.7575 10.567 5.7875 9.89955C5.79783 9.38138 5.89588 8.86871 6.0775 8.3833C6.23803 7.96785 6.48364 7.59055 6.79857 7.27562C7.1135 6.96068 7.4908 6.71507 7.90625 6.55455C8.39166 6.37293 8.90433 6.27487 9.4225 6.26455C10.09 6.23455 10.3025 6.22705 12 6.22705C13.6975 6.22705 13.91 6.23455 14.5775 6.26455C15.0957 6.27487 15.6083 6.37293 16.0938 6.55455C16.509 6.71522 16.886 6.96089 17.2007 7.27582C17.5155 7.59075 17.7609 7.96797 17.9213 8.3833C18.1033 8.86863 18.2018 9.38131 18.2125 9.89955C18.2425 10.567 18.25 10.7795 18.25 12.477C18.25 14.1745 18.2425 14.387 18.2125 15.0545V15.0533Z" fill="white"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </SplideSlide>
        ))}
      </Splide>
    </div>
  );
};

export default DoctorsCarousel;
